<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
<!--/*  declare parameterized fragment called "list" */-->
<div th:fragment="list(category)">

  <div th:if="${category.getTop == true}" th:class="(${category.getTop}) ? 'top'">

    <span th:text="${category.getPosition() + '  ' + category.getName()}"></span>

    <a th:href="@{/GoToMovePage(categoryid=${category.id})}">Sposta</a>

  </div>


  <ul th:unless="${category.getSubClasses().isEmpty() == true}" class="subpart">

    <li th:each="child : ${category.getSubClasses()}">

      <span th:text="${child.getPosition() + '  ' + child.getName()}"></span>
      <a th:href="@{/GoToMovePage(categoryid=${child.getId()})}">Sposta</a>

      <!--/* "this" indicates that the fragment to be used is in this file */-->
      <!--/* the product parameter to use in the fragment is the current child */-->
      <ul th:replace="this::list (${child})"></ul>
    </li>

  </ul>

</div>

</body>
</html>